{"version":3,"sources":["components/Filter.js","components/Person.js","components/Persons.js","services/persons.js","components/Notification.js","components/ErrorNotification.js","App.js","index.js"],"names":["Filter","value","onChange","Person","person","deletePerson","key","name","phone","onClick","Persons","persons","map","id","url","axios","get","then","response","data","post","delete","put","Notification","message","className","ErrorNotification","App","useState","setPersons","newName","setNewName","newPhone","setNewPhone","filter","setFilter","setMessage","errorMessage","setErrorMessage","useEffect","personsService","console","log","filteredPersons","includes","event","target","onSubmit","preventDefault","item","window","confirm","find","updatedPerson","setTimeout","catch","error","number","newPerson","newPersons","concat","type","p","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ff0a93f3.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({value, onChange}) => (\n    <div >\n    filter shown with <input value={value} onChange={onChange}/>\n  </div>\n)\n\nexport default Filter","import React from 'react'\n\nconst Person = ({person, deletePerson}) => (\n    <div key={person.name}>\n        {person.name} {person.phone}\n        <button onClick={() => deletePerson(person)}>delete</button>\n    </div>\n)\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({persons, deletePerson}) => (\n    persons.map(person => <Person key={person.id} person={person} deletePerson={deletePerson}/>)\n)\n\nexport default Persons","import axios from 'axios'\n\nconst url = '/api/persons'\n\nconst getAll = ()  => {\n   return axios\n      .get(url)\n      .then(response => {\n          return response.data\n      })\n    }\n\nconst add = person =>\n    axios\n        .post(url, person)\n        .then(response => response.data)\n\nconst deletePerson = person =>\n    axios\n        .delete(url+`/${person.id}`)\n        .then(response => response)\n\nconst update = person =>\n    axios\n        .put(url+`/${person.id}`, person)\n        .then(response => response.data)\n\nexport default {getAll, add, deletePerson, update}\n\n        \n","import React from 'react'\n\nconst Notification = ({message}) => {\n    if(message===null){\n        return null\n    }\n\n    return ( \n        <div className='notification'>\n            {message}\n        </div>\n    )\n}\n\nexport default Notification","import React from 'react'\n\nconst ErrorNotification = ({message}) => {\n    if(message===null){\n        return null\n    }\n\n    return ( \n        <div className='errornotification'>\n            {message}\n        </div>\n    )\n}\n\nexport default ErrorNotification","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport Persons from './components/Persons'\nimport personsService from './services/persons'\nimport './index.css'\nimport Notification from './components/Notification'\nimport ErrorNotification from './components/ErrorNotification'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [newPhone, setNewPhone] = useState('')\n  const [filter, setFilter] = useState('')\n  const [message, setMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() =>{\n    personsService\n      .getAll()   \n      .then(persons =>{\n        setPersons(persons)\n      })\n\n  }, [])\n\n  const onNameSubmit = (event) => {\n    event.preventDefault()\n    if(persons.map(item=> item.name).includes(newName)){\n      const confirmed = window.confirm(`${newName} already is already in the phonebook. update?`)\n      if(confirmed){\n        const person = persons.find(item => item.name === newName)\n        personsService\n          .update({...person, phone: newPhone})\n          .then(updatedPerson => {\n            setMessage('Person updated')\n            setTimeout( () =>\n              setMessage(null)\n            ,5000)\n            setPersons(persons.map(item => item.id===person.id? updatedPerson: item))\n          })\n          .catch(error=>\n            setErrorMessage(error.response.data.error)\n          )\n      }\n    } else {\n      const newPerson = {\n        name: newName,\n        number: newPhone\n      }\n      personsService.add(\n        newPerson\n      ).then( newPerson =>{\n        console.log('old persons', persons);\n            const newPersons = persons.concat(\n              newPerson\n            )\n            console.log('new persons', newPersons);\n          setPersons(newPersons)\n          setNewName('')\n          setMessage('Person added')\n          setTimeout( () =>\n              setMessage(null)\n            ,5000)\n      })\n      .catch(error=>\n          setErrorMessage(error.response.data.error)\n        )\n    }\n  }\n\n  const deletePerson = (person) => {\n    console.log('delete');\n    const del = window.confirm(`delete that guy?`)\n    if(del)\n      personsService.deletePerson(person)\n        .then(\n          setPersons(persons.filter(p => p.id !== person.id))\n        )\n        .catch( error =>\n          setErrorMessage(`Person ${person.name} had already been deleted`)\n        )\n  }\n\n  console.log('persons', persons)\n  const filteredPersons = persons\n    .filter(person => person.name.includes(filter))\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <ErrorNotification message={errorMessage} />\n      <Filter value={filter} onChange={(event) => setFilter(event.target.value)} />\n      <form onSubmit={onNameSubmit}>\n        <div>\n          name: <input key='name' value={newName} onChange={(event) => setNewName(event.target.value)}/>\n        </div>\n        <div>\n          phone: <input key='phone' value={newPhone} onChange={event => setNewPhone(event.target.value)}/>\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n      <h2>Numbers</h2>\n      <Persons persons={filteredPersons} deletePerson={deletePerson} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}